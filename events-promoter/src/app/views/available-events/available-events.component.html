<app-header-enthusiast></app-header-enthusiast>

<div class="mat-elevation-z4">

  <h3> Pesquisar por eventos por filtros </h3>

  <form>
    <mat-form-field>
      <input matInput type="text" placeholder="Nome do Evento" [(ngModel)]="event.name_event" name="name_event"
        title="Exemplo: Festa beneficente">
    </mat-form-field>
    <mat-form-field>
      <input matInput type="text" placeholder="Tema do Evento" [(ngModel)]="event.theme" name="theme"
        title="Exemplo: Festa beneficente">
    </mat-form-field>
    <mat-form-field>
      <input matInput type="text" placeholder="Estado" [(ngModel)]="event.state" name="state"
        pattern="[A-Z]{2}">
    </mat-form-field>
    <mat-form-field>
      <input matInput type="text" placeholder="Cidade" [(ngModel)]="event.city" name="city"
          pattern="[A-Za-z].{2,56}" title="3 ou até 56 caracteres">
  </mat-form-field>
    <mat-form-field>
      <input matInput type="text" placeholder="CEP" [(ngModel)]="event.zipCode" name="zipCode"
        pattern="[0-9].{2,10}-[0-9]{3}" title="Exemplo: 59300-000">
    </mat-form-field>

    <!-- Ainda não funciona -->
    <!--
    <mat-form-field>
      <input required matInput type="datetime-local" placeholder="Data e hora em que o evento ocorrerá" [(ngModel)]="event.eventDate"
          name="eventDate">
    </mat-form-field>
    -->

  </form>

  <div id="actions">
  <button mat-raised-button (click)="searchEventByName()" color="primary">
    Procurar evento por nome
  </button>
  <button mat-raised-button (click)="searchEventByTheme()" color="primary">
    Procurar evento por tema
  </button>
  <button mat-raised-button (click)="searchEventByState()" color="primary">
    Procurar evento por estado
  </button>
  <button mat-raised-button (click)="searchEventByCity()" color="primary">
    Procurar evento por cidade
  </button>
  <button mat-raised-button (click)="searchEventByZipCode()" color="primary">
    Procurar evento por CEP
  </button>
  </div>

  <!-- Ainda não funciona -->
  <!--
  <button mat-raised-button (click)="searchEventByEventDate()" color="primary">
    Procurar evento por data
  </button>
  -->

  <h3> Eventos encontrados </h3>

  <table mat-table [dataSource]="events">

    <ng-container matColumnDef="name_event">
      <th mat-header-cell *matHeaderCellDef id="th_nome">Nome</th>
      <td mat-cell *matCellDef="let event">{{event.name_event}}</td>
    </ng-container>

    <ng-container matColumnDef="description_event">
      <th mat-header-cell *matHeaderCellDef id="th_descricao">Descrição</th>
      <td mat-cell *matCellDef="let event">{{event.description_event}}</td>
    </ng-container>

    <ng-container matColumnDef="theme">
      <th mat-header-cell *matHeaderCellDef id="th_tema">Tema</th>
      <td mat-cell *matCellDef="let event">{{event.theme}}</td>
    </ng-container>

    <ng-container matColumnDef="state">
      <th mat-header-cell *matHeaderCellDef>Estado</th>
      <td mat-cell *matCellDef="let event">{{event.state}}</td>
    </ng-container>

    <ng-container matColumnDef="city">
      <th mat-header-cell *matHeaderCellDef>Cidade</th>
      <td mat-cell *matCellDef="let event">{{event.city}}</td>
    </ng-container>

    <ng-container matColumnDef="district">
      <th mat-header-cell *matHeaderCellDef>Bairro</th>
      <td mat-cell *matCellDef="let event">{{event.district}}</td>
    </ng-container>

    <ng-container matColumnDef="street">
      <th mat-header-cell *matHeaderCellDef>Rua</th>
      <td mat-cell *matCellDef="let event">{{event.street}}</td>
    </ng-container>

    <ng-container matColumnDef="number_place">
      <th mat-header-cell *matHeaderCellDef>Número</th>
      <td mat-cell *matCellDef="let event">{{event.number_place}}</td>
    </ng-container>

    <ng-container matColumnDef="zipCode">
      <th mat-header-cell *matHeaderCellDef>CEP</th>
      <td mat-cell *matCellDef="let event">{{event.zipCode}}</td>
    </ng-container>

    <ng-container matColumnDef="latitude">
      <th mat-header-cell *matHeaderCellDef>Latitude</th>
      <td mat-cell *matCellDef="let event">{{event.latitude}}</td>
    </ng-container>

    <ng-container matColumnDef="longitude">
      <th mat-header-cell *matHeaderCellDef>Longitude</th>
      <td mat-cell *matCellDef="let event">{{event.longitude}}</td>
    </ng-container>

    <ng-container matColumnDef="site">
      <th mat-header-cell *matHeaderCellDef id="th_site">Site</th>
      <td mat-cell *matCellDef="let event">{{event.site}}</td>
    </ng-container>

    <ng-container matColumnDef="eventDate">
      <th mat-header-cell *matHeaderCellDef>Data e Hora do evento</th>
      <td mat-cell *matCellDef="let event">{{ event.eventDate | date:'medium' }}</td>
    </ng-container>

    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef>Data e Hora de submissão</th>
      <td mat-cell *matCellDef="let event">{{ event.createdAt | date:'medium' }}</td>
    </ng-container>

    <!-- Action Column -->
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Ações</th>
      <td mat-cell *matCellDef="let event">
        <a routerLink="/home_enthusiast/events/subscribe/{{event.id}}" class="subscribe" title="Me inscrever no evento">
          <i class="material-icons">
            touch_app
          </i>
        </a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let event; columns: displayedColumns;"></tr>

  </table>

</div>


